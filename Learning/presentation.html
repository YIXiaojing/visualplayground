<!DOCTYPE html>
<meta charset="utf-8" xmlns="http://www.w3.org/1999/html">
<meta name="viewport" content="width=device-width">
<link href="style.css" rel="stylesheet">

<section id="clock">

</section>
<section style="text-align:center;padding-top:5em;">
    <h1 class="blue">d3.basic (fundamentals)</h1>
    <h2 class="grey">by Sachin Patney</h2>
</section>

<section style="text-align:center;padding-top:5em;">
    <h1 class="blue">What is this D3?</h1>
    <h2 class="grey">its <span class="red"><b>NOT</b></span> <span class="variable">D</span>emo <span class="variable">D</span>riven <span class="variable">D</span>evelopment</h2>
</section>

<section>
    <img src="d3.min.screen.png"/>
</section>

<section style="text-align:center;padding-top:5em;">
    <h1 class="blue">D3 === C++ with STL</h1>
    <h2 class="grey">[HTML] [CSS] [JAVASCRIPT] [SVG] [DOM]</h2>
</section>

<section style="text-align:center;padding-top:5em;">
    <h1 class="altTitle">Start <span class="small">Small!</span></h1>
    <h2 class="grey">You don't need to master everything at once</h2>
</section>

<section style="text-align:center;padding-top:5em;">
    <h1 class="blue">The chicken or the [a, r, r, a, y] ?</h1>
    <code>
        <span class="keyword">var</span> myData = [10, 40, 30, 20, 60];
    </code>
</section>
<section>
    <h1 class="blue">Data Join + enter()</h1>
    <pre>
        <code class="javascript">
<span class="keyword">var</span> myData = [10, 40, 30, 20, 60];

<span class="keyword">var</span> svg = d3.select(<span class="string">'#svgCircles'</span>); <span class="grey">//empty svg element</span>
<span class="keyword">var</span> selection = svg.selectAll(<span class="string">'.happycircles'</span>).<span class="highlighted">data(myData)</span>;

selection.enter()
    .append(<span class="string">'circle'</span>)
    .classed(<span class="string">'happycircles'</span>, <span class="keyword">true</span>);
        </code>
    </pre>
</section>

<section>
    <h1 class="blue">update() + exit()</h1>
    <pre>
    <code class="javascript">
selection
    .attr({
        <span class="variable">cx</span>: <span class="function">function</span>(d, i){ <span class="keyword">return</span> (i + 1) * 100; },
        <span class="variable">cy</span>: 150,
        <span class="variable">r</span>: <span class="function">function</span>(d) { <span class="keyword">return</span> d; },
        <span class="variable">fill</span>: 'purple'
    });

selection.exit().remove();
    </code>
        </pre>
</section>

<section id="circles">
    <h1 class="blue">Happy Circles</h1>
    <svg class="svgDemo" id="svgCircles"></svg>
</section>

<section id="enter">
    <h1 class="blue">Enter</h1>
    <div></div>
    <h3 class="grey">New data, for which there were no existing elements.</h3>
</section>

<section id="update">
    <h1 class="blue">Update</h1>
    <div></div>
    <h3 class="grey">New data that was joined successfully to an existing element.</h3>
</section>

<section id="exit">
    <h1 class="blue">Exit</h1>
    <div></div>
    <h3 class="grey">Existing elements, for which there was no new data.</h3>
</section>

<section id="keyfunction">
    <h1 class="blue">Key Function</h1>
    <pre>
        <code>
<span class="function">function</span> key(d) { <span class="keyword">return</span> d.someUniqueIdentifier; }

<span class="keyword">var</span> selection = svg
            .selectAll(<span class="string">'.happycircles'</span>)
            .<span class="highlighted">data(myData, key)</span>;
</code>
    </pre>
</section>

<section>
    <h1 class="blue">Setting things in Motion</h1>
<pre>
<code class="javascript">
selection.enter()
    .append(<span class="string">'circle'</span>)
    .attr({
        <span class="highlighted"><span class="variable">cx</span>: 0,</span>
        <span class="highlighted"><span class="variable">fill</span>: '#FFFFFF'</span>
    })
    .classed(<span class="string">'happycircles'</span>, <span class="keyword">true</span>);
</code>
</pre>
</section>

<section>
    <h1 class="blue">Just two more lines ... </h1>
<pre>
<code class="javascript">
selection
    <span class="highlighted">.transition()</span>
    <span class="highlighted">.duration(5000)</span>
    .attr({
        <span class="variable">cx</span>: <span class="function">function</span>(d, i){ <span class="keyword">return</span> (i + 1) * 100; },
        <span class="variable">cy</span>: 150,
        <span class="variable">r</span>: <span class="function">function</span>(d) { <span class="keyword">return</span> d; },
        <span class="variable">fill</span>: 'purple'
    });
</code>
</pre>
</section>

<section id="aniCircles">
    <h1 class="blue">... aaaaaand Action!</h1>
    <svg class="svgDemo" id="svgAniCircles"></svg>
</section>

<!--<section id="snake">
    <h1 class="blue">Animation Chain</h1>
    <svg class="svgDemo" id="svgSnake"></svg>
</section>-->

<section>
    <h1 class="blue">Scales</h1>
    <pre>
        <code>
<span class="keyword">var</span> data = [1, 2, 3, 4, 5, 6, 7, 8, 9, 100];

<span class="keyword">var</span> xScale = <span class="d3">d3</span>.scale.linear()
    .domain([<span class="variable">0</span>, <span class="d3">d3</span>.max(<span class="variable">data</span>)])
    .range([<span class="variable">0</span>, <span class="variable">width</span>]);
        </code>
    </pre>
</section>

<section>
    <h1 class="blue">Axis</h1>
    <pre>
        <code>
<span class="keyword">var</span> xAxis = <span class="d3">d3</span>.svg.axis().scale(<span class="variable">xScale</span>)
    .orient(<span class="string">"bottom"</span>)
    .tickPadding(<span class="variable">8</span>);

svg.append(<span class="string">"g"</span>)
    .attr(<span class="string">"transform"</span>, <span class="string">"translate(0,"</span>+ <span class="variable">height</span> +<span class="string">")"</span>)
    .call(<span class="variable">xAxis</span>);
        </code>
<svg class="svgAxisDiv" id="svgAxis"></svg>
    </pre>
</section>

<section id="scatterPlot">
    <h1 class="blue">Putting it all together</h1>
    <svg class="svgDemo" id="svgScatterPlot"></svg>
</section>

<section id= "builtin" style="text-align:center;padding-top:7em;">
    <h1 class="blue">What else can <span class="d3">D3</span> do?</h1>
</section>

<section id="interpolator">
    <h1>Interpolator</h1>
    <pre>
        <code>
<span class="d3">d3</span>.interpolators.push(<span class="function">function</span>(a, b) {
    <span class="keyword">var</span> re = <span class="string">/^\$([0-9,.]+)$/</span>, ma, mb, f = d3.format(<span class="string">',.02f'</span>);
    <span class="keyword">if</span> ((ma = re.exec(a)) && (mb = re.exec(b))) {
        a = parseFloat(ma[1]); b = parseFloat(mb[1]) - a;
        <span class="keyword">return</span> <span class="function">function</span>(t) { return <span class="string">'$'</span>  + f(a + b * t); };
    }
});

<span>d3</span>.interpolate(<span class="string">'$10'</span>, <span class="string">'$30'</span>)(1/2)); <span class="grey">//$20.00</span>
        </code>
    </pre>
</section>

<!--<section id="makePie">
    <h1 class="blue">Lets make some PIE!</h1>
</section> -->

<section id="quadTree">
    <h1 class="blue">Algorithms: &nbsp;Quad Tree Search</h1>
    <svg class="svgDemo" id="quadTreeSvg"></svg>
</section>

<section id="zoom">
    <h1 class="blue">Behaviours: &nbsp;Pan + Zoom</h1>
    <svg class="svgDemo" id="zoomSvg"></svg>
</section>

<section style="text-align:center;padding-top:5em;">
    <h1 class="blue">Magic</h1>
    <h2 class="grey">Any sufficiently advanced technology is indistinguishable from magic.</h2>
</section>

<section id="canvas">
    <h1 class="blue">D3 + Canvas</h1>
    <div class="takeOver" id="canvasDiv"></div>
    <pre>
        <code>
<span class="d3">d3</span>.select(canvasDiv.get(0)).on(<span class="string">'mousemove'</span>, <span class="function">function</span>() {
    <span class="keyword">var</span> pos = <span class="d3">d3</span>.mouse(<span class="keyword">this</span>);
    surface.append(<span class="string">'custom:cloud'</span>)
        .attr({<span class="string">'cx'</span>: pos[0], <span class="string">'cy'</span>: pos[1], <span class="string">'r'</span>: 0 })
        .attr({<span class="string">'stroke'</span>: <span class="string">'rgba(255,20,147,1)'</span>,
            <span class="string">'stroke-width'</span>: 5,
            <span class="string">'fill'</span>: <span class="string">'rgba(255,105,180,1)'</span> })
        .transition().duration(2000).ease(Math.sqrt)
        .attr({<span class="string">'r'</span>: 200, <span class="string">'stroke'</span>: <span class="string">'rgba(255,20,147,0)'</span> })
        .attr(<span class="string">'fill'</span>, <span class="string">'rgba(255,105,180,0)'</span>).remove();
});
        </code>
    </pre>
</section>

<section id="webgl">
    <h1 class="blue">D3 + WebGL</h1>
    <button id="meshBtn" class="styled-button-11">Switch Mesh</button>
    <div class="svgDemo" id="webGlhost"></div>
</section>

<section id="d3site">
    <iframe src="http://www.d3js.org"></iframe>
</section>
<section id="theend" style="text-align:center;padding-top:4em;">
    <h1 class="blue">The End</h1>
    <h2 class="grey">Questions ?</h2>
    <svg class="svgDemoEnd" id="svgForce"></svg>
</section>

<script src="//d3js.org/d3.v3.min.js" type="text/javascript"></script>
<script src="//code.jquery.com/jquery-2.1.3.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/three.js/r67/three.min.js"></script>
<script src="stack.js"></script>
<script src="functions.js"></script>
