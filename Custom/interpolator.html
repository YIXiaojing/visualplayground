<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>

    <script src="//d3js.org/d3.v3.min.js" type="text/javascript"></script>
</head>
<body>
<div id="result"></div>
<script>
    /*d3.interpolators.push(function(a, b) {
        var ma, mb;
        if (b.length === 1 && a.length === 1) {
            ma = a.charCodeAt(0);
            mb = b.charCodeAt(0);

            ma = parseInt(ma);
            mb = parseInt(mb) - ma;


            return function(t) {
                return  String.fromCharCode(ma + Math.round(mb * t));
            };
        }
    });*/

    d3.interpolators.push(function(a, b) {
        var ma, mb;
        if (b.length === a.length) {
            return function(t) {
                var s = "";
                for(var i=0; i< a.length;i++){
                    ma = a.charCodeAt(i);
                    mb = b.charCodeAt(i) - ma;

                    s+= String.fromCharCode(ma + Math.round(mb * t));
                }

                return s;
            };
        }
    });

    d3.interpolators.push(function(a, b) {
        var re = /^\$([0-9,.]+)$/, ma, mb, f = d3.format(",.02f");
        if ((ma = re.exec(a)) && (mb = re.exec(b))) {
            a = parseFloat(ma[1]);
            b = parseFloat(mb[1]) - a;
            return function(t) {
                return "$" + f(a + b * t);
            };
        }
    });

    d3.select('#result').text(d3.interpolate('$10', '$30')(1/2));


</script>
</body>
</html>